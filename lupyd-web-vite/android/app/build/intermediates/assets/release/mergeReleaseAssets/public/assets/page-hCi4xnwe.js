import{n as us,ar as ps,as as ms,r as o,j as e,at as xs,au as ye,z as R,av as hs,X as fs,aw as vs,ax as Te,ay as Pe,az as Re,G as pe,aA as Se,aB as me,a8 as Q,aC as gs,aa as W,aD as js,P as U,ac as S,ad as Ae,aE as bs,aF as ws,aG as Ns,aH as Cs,aI as ys,aJ as Ts,R as y,aK as Ps,a7 as Rs,aL as Ss,aM as ke,I,V as L,W as M,Y as G,Z as $,_ as N,B as A,T as As,a as ks,b as q,c as z,K as E,k as Is,u as Ie,aN as Ne,q as le,aO as Es,aP as _s,aQ as Os,p as Ee,S as _e,D as Ds,O as Ls,aR as Ms,w as Gs}from"./index-BQMOqxJW.js";import{S as ie}from"./separator-CDsb8oFD.js";import{L as k}from"./label-taPqtvAq.js";import{G as $s}from"./globe-B4mvFNMQ.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Us=us("user-round",Hs),xe=ps,Vs=ms,Fs=xs,Oe=o.forwardRef(({className:s,...n},t)=>e.jsx(Pe,{className:R("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t}));Oe.displayName=Pe.displayName;const Bs=vs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Y=o.forwardRef(({side:s="right",className:n,children:t,...a},r)=>e.jsxs(Fs,{children:[e.jsx(Oe,{}),e.jsxs(ye,{ref:r,className:R(Bs({side:s}),n),...a,children:[t,e.jsxs(hs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Y.displayName=ye.displayName;const X=({className:s,...n})=>e.jsx("div",{className:R("flex flex-col space-y-2 text-center sm:text-left",s),...n});X.displayName="SheetHeader";const J=o.forwardRef(({className:s,...n},t)=>e.jsx(Te,{ref:t,className:R("text-lg font-semibold text-foreground",s),...n}));J.displayName=Te.displayName;const qs=o.forwardRef(({className:s,...n},t)=>e.jsx(Re,{ref:t,className:R("text-sm text-muted-foreground",s),...n}));qs.displayName=Re.displayName;var[Z,Ut]=pe("Tooltip",[Se]),ee=Se(),De="TooltipProvider",zs=700,ce="tooltip.open",[Ks,he]=Z(De),Le=s=>{const{__scopeTooltip:n,delayDuration:t=zs,skipDelayDuration:a=300,disableHoverableContent:r=!1,children:i}=s,c=o.useRef(!0),u=o.useRef(!1),d=o.useRef(0);return o.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),e.jsx(Ks,{scope:n,isOpenDelayedRef:c,delayDuration:t,onOpen:o.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:o.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:o.useCallback(f=>{u.current=f},[]),disableHoverableContent:r,children:i})};Le.displayName=De;var F="Tooltip",[Qs,se]=Z(F),Me=s=>{const{__scopeTooltip:n,children:t,open:a,defaultOpen:r,onOpenChange:i,disableHoverableContent:c,delayDuration:u}=s,d=he(F,s.__scopeTooltip),f=ee(n),[m,l]=o.useState(null),x=me(),g=o.useRef(0),w=c??d.disableHoverableContent,j=u??d.delayDuration,b=o.useRef(!1),[v,h]=Q({prop:a,defaultProp:r??!1,onChange:B=>{B?(d.onOpen(),document.dispatchEvent(new CustomEvent(ce))):d.onClose(),i?.(B)},caller:F}),p=o.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),C=o.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,h(!0)},[h]),T=o.useCallback(()=>{window.clearTimeout(g.current),g.current=0,h(!1)},[h]),_=o.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,h(!0),g.current=0},j)},[j,h]);return o.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),e.jsx(gs,{...f,children:e.jsx(Qs,{scope:n,contentId:x,open:v,stateAttribute:p,trigger:m,onTriggerChange:l,onTriggerEnter:o.useCallback(()=>{d.isOpenDelayedRef.current?_():C()},[d.isOpenDelayedRef,_,C]),onTriggerLeave:o.useCallback(()=>{w?T():(window.clearTimeout(g.current),g.current=0)},[T,w]),onOpen:C,onClose:T,disableHoverableContent:w,children:t})})};Me.displayName=F;var de="TooltipTrigger",Ge=o.forwardRef((s,n)=>{const{__scopeTooltip:t,...a}=s,r=se(de,t),i=he(de,t),c=ee(t),u=o.useRef(null),d=W(n,u,r.onTriggerChange),f=o.useRef(!1),m=o.useRef(!1),l=o.useCallback(()=>f.current=!1,[]);return o.useEffect(()=>()=>document.removeEventListener("pointerup",l),[l]),e.jsx(js,{asChild:!0,...c,children:e.jsx(U.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...a,ref:d,onPointerMove:S(s.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:S(s.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:S(s.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",l,{once:!0})}),onFocus:S(s.onFocus,()=>{f.current||r.onOpen()}),onBlur:S(s.onBlur,r.onClose),onClick:S(s.onClick,r.onClose)})})});Ge.displayName=de;var Ws="TooltipPortal",[Vt,Ys]=Z(Ws,{forceMount:void 0}),H="TooltipContent",$e=o.forwardRef((s,n)=>{const t=Ys(H,s.__scopeTooltip),{forceMount:a=t.forceMount,side:r="top",...i}=s,c=se(H,s.__scopeTooltip);return e.jsx(Ae,{present:a||c.open,children:c.disableHoverableContent?e.jsx(He,{side:r,...i,ref:n}):e.jsx(Xs,{side:r,...i,ref:n})})}),Xs=o.forwardRef((s,n)=>{const t=se(H,s.__scopeTooltip),a=he(H,s.__scopeTooltip),r=o.useRef(null),i=W(n,r),[c,u]=o.useState(null),{trigger:d,onClose:f}=t,m=r.current,{onPointerInTransitChange:l}=a,x=o.useCallback(()=>{u(null),l(!1)},[l]),g=o.useCallback((w,j)=>{const b=w.currentTarget,v={x:w.clientX,y:w.clientY},h=tt(v,b.getBoundingClientRect()),p=at(v,h),C=nt(j.getBoundingClientRect()),T=ot([...p,...C]);u(T),l(!0)},[l]);return o.useEffect(()=>()=>x(),[x]),o.useEffect(()=>{if(d&&m){const w=b=>g(b,m),j=b=>g(b,d);return d.addEventListener("pointerleave",w),m.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",j)}}},[d,m,g,x]),o.useEffect(()=>{if(c){const w=j=>{const b=j.target,v={x:j.clientX,y:j.clientY},h=d?.contains(b)||m?.contains(b),p=!rt(v,c);h?x():p&&(x(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,m,c,f,x]),e.jsx(He,{...s,ref:i})}),[Js,Zs]=Z(F,{isInside:!1}),et=Ns("TooltipContent"),He=o.forwardRef((s,n)=>{const{__scopeTooltip:t,children:a,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=s,d=se(H,t),f=ee(t),{onClose:m}=d;return o.useEffect(()=>(document.addEventListener(ce,m),()=>document.removeEventListener(ce,m)),[m]),o.useEffect(()=>{if(d.trigger){const l=x=>{x.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",l,{capture:!0}),()=>window.removeEventListener("scroll",l,{capture:!0})}},[d.trigger,m]),e.jsx(bs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:l=>l.preventDefault(),onDismiss:m,children:e.jsxs(ws,{"data-state":d.stateAttribute,...f,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(et,{children:a}),e.jsx(Js,{scope:t,isInside:!0,children:e.jsx(Cs,{id:d.contentId,role:"tooltip",children:r||a})})]})})});$e.displayName=H;var Ue="TooltipArrow",st=o.forwardRef((s,n)=>{const{__scopeTooltip:t,...a}=s,r=ee(t);return Zs(Ue,t).isInside?null:e.jsx(ys,{...r,...a,ref:n})});st.displayName=Ue;function tt(s,n){const t=Math.abs(n.top-s.y),a=Math.abs(n.bottom-s.y),r=Math.abs(n.right-s.x),i=Math.abs(n.left-s.x);switch(Math.min(t,a,r,i)){case i:return"left";case r:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function at(s,n,t=5){const a=[];switch(n){case"top":a.push({x:s.x-t,y:s.y+t},{x:s.x+t,y:s.y+t});break;case"bottom":a.push({x:s.x-t,y:s.y-t},{x:s.x+t,y:s.y-t});break;case"left":a.push({x:s.x+t,y:s.y-t},{x:s.x+t,y:s.y+t});break;case"right":a.push({x:s.x-t,y:s.y-t},{x:s.x-t,y:s.y+t});break}return a}function nt(s){const{top:n,right:t,bottom:a,left:r}=s;return[{x:r,y:n},{x:t,y:n},{x:t,y:a},{x:r,y:a}]}function rt(s,n){const{x:t,y:a}=s;let r=!1;for(let i=0,c=n.length-1;i<n.length;c=i++){const u=n[i],d=n[c],f=u.x,m=u.y,l=d.x,x=d.y;m>a!=x>a&&t<(l-f)*(a-m)/(x-m)+f&&(r=!r)}return r}function ot(s){const n=s.slice();return n.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),lt(n)}function lt(s){if(s.length<=1)return s.slice();const n=[];for(let a=0;a<s.length;a++){const r=s[a];for(;n.length>=2;){const i=n[n.length-1],c=n[n.length-2];if((i.x-c.x)*(r.y-c.y)>=(i.y-c.y)*(r.x-c.x))n.pop();else break}n.push(r)}n.pop();const t=[];for(let a=s.length-1;a>=0;a--){const r=s[a];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(r.y-c.y)>=(i.y-c.y)*(r.x-c.x))t.pop();else break}t.push(r)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}var it=Le,ct=Me,dt=Ge,Ve=$e;const ut=it,pt=ct,mt=dt,Fe=o.forwardRef(({className:s,sideOffset:n=4,...t},a)=>e.jsx(Ve,{ref:a,sideOffset:n,className:R("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));Fe.displayName=Ve.displayName;var te="Collapsible",[xt,Be]=pe(te),[ht,fe]=xt(te),qe=o.forwardRef((s,n)=>{const{__scopeCollapsible:t,open:a,defaultOpen:r,disabled:i,onOpenChange:c,...u}=s,[d,f]=Q({prop:a,defaultProp:r??!1,onChange:c,caller:te});return e.jsx(ht,{scope:t,disabled:i,contentId:me(),open:d,onOpenToggle:o.useCallback(()=>f(m=>!m),[f]),children:e.jsx(U.div,{"data-state":ge(d),"data-disabled":i?"":void 0,...u,ref:n})})});qe.displayName=te;var ze="CollapsibleTrigger",Ke=o.forwardRef((s,n)=>{const{__scopeCollapsible:t,...a}=s,r=fe(ze,t);return e.jsx(U.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":ge(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...a,ref:n,onClick:S(s.onClick,r.onOpenToggle)})});Ke.displayName=ze;var ve="CollapsibleContent",Qe=o.forwardRef((s,n)=>{const{forceMount:t,...a}=s,r=fe(ve,s.__scopeCollapsible);return e.jsx(Ae,{present:t||r.open,children:({present:i})=>e.jsx(ft,{...a,ref:n,present:i})})});Qe.displayName=ve;var ft=o.forwardRef((s,n)=>{const{__scopeCollapsible:t,present:a,children:r,...i}=s,c=fe(ve,t),[u,d]=o.useState(a),f=o.useRef(null),m=W(n,f),l=o.useRef(0),x=l.current,g=o.useRef(0),w=g.current,j=c.open||u,b=o.useRef(j),v=o.useRef(void 0);return o.useEffect(()=>{const h=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(h)},[]),Ts(()=>{const h=f.current;if(h){v.current=v.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const p=h.getBoundingClientRect();l.current=p.height,g.current=p.width,b.current||(h.style.transitionDuration=v.current.transitionDuration,h.style.animationName=v.current.animationName),d(a)}},[c.open,a]),e.jsx(U.div,{"data-state":ge(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...i,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...s.style},children:j&&r})});function ge(s){return s?"open":"closed"}var vt=qe,gt=Ke,jt=Qe,P="Accordion",bt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[je,wt,Nt]=Ps(P),[ae,Ft]=pe(P,[Nt,Be]),be=Be(),We=y.forwardRef((s,n)=>{const{type:t,...a}=s,r=a,i=a;return e.jsx(je.Provider,{scope:s.__scopeAccordion,children:t==="multiple"?e.jsx(Pt,{...i,ref:n}):e.jsx(Tt,{...r,ref:n})})});We.displayName=P;var[Ye,Ct]=ae(P),[Xe,yt]=ae(P,{collapsible:!1}),Tt=y.forwardRef((s,n)=>{const{value:t,defaultValue:a,onValueChange:r=()=>{},collapsible:i=!1,...c}=s,[u,d]=Q({prop:t,defaultProp:a??"",onChange:r,caller:P});return e.jsx(Ye,{scope:s.__scopeAccordion,value:y.useMemo(()=>u?[u]:[],[u]),onItemOpen:d,onItemClose:y.useCallback(()=>i&&d(""),[i,d]),children:e.jsx(Xe,{scope:s.__scopeAccordion,collapsible:i,children:e.jsx(Je,{...c,ref:n})})})}),Pt=y.forwardRef((s,n)=>{const{value:t,defaultValue:a,onValueChange:r=()=>{},...i}=s,[c,u]=Q({prop:t,defaultProp:a??[],onChange:r,caller:P}),d=y.useCallback(m=>u((l=[])=>[...l,m]),[u]),f=y.useCallback(m=>u((l=[])=>l.filter(x=>x!==m)),[u]);return e.jsx(Ye,{scope:s.__scopeAccordion,value:c,onItemOpen:d,onItemClose:f,children:e.jsx(Xe,{scope:s.__scopeAccordion,collapsible:!0,children:e.jsx(Je,{...i,ref:n})})})}),[Rt,ne]=ae(P),Je=y.forwardRef((s,n)=>{const{__scopeAccordion:t,disabled:a,dir:r,orientation:i="vertical",...c}=s,u=y.useRef(null),d=W(u,n),f=wt(t),l=Rs(r)==="ltr",x=S(s.onKeyDown,g=>{if(!bt.includes(g.key))return;const w=g.target,j=f().filter(re=>!re.ref.current?.disabled),b=j.findIndex(re=>re.ref.current===w),v=j.length;if(b===-1)return;g.preventDefault();let h=b;const p=0,C=v-1,T=()=>{h=b+1,h>C&&(h=p)},_=()=>{h=b-1,h<p&&(h=C)};switch(g.key){case"Home":h=p;break;case"End":h=C;break;case"ArrowRight":i==="horizontal"&&(l?T():_());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(l?_():T());break;case"ArrowUp":i==="vertical"&&_();break}const B=h%v;j[B].ref.current?.focus()});return e.jsx(Rt,{scope:t,disabled:a,direction:r,orientation:i,children:e.jsx(je.Slot,{scope:t,children:e.jsx(U.div,{...c,"data-orientation":i,ref:d,onKeyDown:a?void 0:x})})})}),K="AccordionItem",[St,we]=ae(K),Ze=y.forwardRef((s,n)=>{const{__scopeAccordion:t,value:a,...r}=s,i=ne(K,t),c=Ct(K,t),u=be(t),d=me(),f=a&&c.value.includes(a)||!1,m=i.disabled||s.disabled;return e.jsx(St,{scope:t,open:f,disabled:m,triggerId:d,children:e.jsx(vt,{"data-orientation":i.orientation,"data-state":rs(f),...u,...r,ref:n,disabled:m,open:f,onOpenChange:l=>{l?c.onItemOpen(a):c.onItemClose(a)}})})});Ze.displayName=K;var es="AccordionHeader",ss=y.forwardRef((s,n)=>{const{__scopeAccordion:t,...a}=s,r=ne(P,t),i=we(es,t);return e.jsx(U.h3,{"data-orientation":r.orientation,"data-state":rs(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:n})});ss.displayName=es;var ue="AccordionTrigger",ts=y.forwardRef((s,n)=>{const{__scopeAccordion:t,...a}=s,r=ne(P,t),i=we(ue,t),c=yt(ue,t),u=be(t);return e.jsx(je.ItemSlot,{scope:t,children:e.jsx(gt,{"aria-disabled":i.open&&!c.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...u,...a,ref:n})})});ts.displayName=ue;var as="AccordionContent",ns=y.forwardRef((s,n)=>{const{__scopeAccordion:t,...a}=s,r=ne(P,t),i=we(as,t),c=be(t);return e.jsx(jt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...c,...a,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...s.style}})});ns.displayName=as;function rs(s){return s?"open":"closed"}var At=We,kt=Ze,It=ss,os=ts,ls=ns;const Et=At,is=o.forwardRef(({className:s,...n},t)=>e.jsx(kt,{ref:t,className:R("border-b",s),...n}));is.displayName="AccordionItem";const cs=o.forwardRef(({className:s,children:n,...t},a)=>e.jsx(It,{className:"flex",children:e.jsxs(os,{ref:a,className:R("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...t,children:[n,e.jsx(Ss,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));cs.displayName=os.displayName;const ds=o.forwardRef(({className:s,children:n,...t},a)=>e.jsx(ls,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:e.jsx("div",{className:R("pb-4 pt-0",s),children:n})}));ds.displayName=ls.displayName;function V(){return Math.random().toString(36).slice(2,10)}function _t({status:s}){const t={todo:{label:"To do",variant:"outline"},inprogress:{label:"In progress",variant:"secondary"},done:{label:"Done",variant:"default"}}[s];return e.jsx(E,{variant:t.variant,children:t.label})}function Ot({task:s,members:n,onChange:t}){return e.jsxs("div",{className:"rounded-lg border p-3 sm:p-4 bg-white",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:s.title||"Untitled task"}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(_t,{status:s.status}),s.priority&&e.jsxs(E,{variant:"outline",children:["Priority: ",s.priority]}),s.due&&e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Is,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:s.due})]})]})]})}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-xs",children:"Status"}),e.jsxs(L,{value:s.status,onValueChange:a=>t({...s,status:a}),children:[e.jsx(M,{className:"h-9",children:e.jsx(G,{placeholder:"Status"})}),e.jsxs($,{children:[e.jsx(N,{value:"todo",children:"To do"}),e.jsx(N,{value:"inprogress",children:"In progress"}),e.jsx(N,{value:"done",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-xs",children:"Assignee"}),e.jsxs(L,{value:s.assigneeId??"unassigned",onValueChange:a=>t({...s,assigneeId:a||void 0}),children:[e.jsx(M,{className:"h-9",children:e.jsx(G,{placeholder:"Unassigned"})}),e.jsxs($,{children:[e.jsx(N,{value:"unassigned",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("span",{children:"Unassigned"})]})}),n.map(a=>e.jsx(N,{value:a.id,children:a.name},a.id))]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{className:"text-xs",children:"Due date"}),e.jsx(I,{type:"date",className:"h-9",value:s.due??"",onChange:a=>t({...s,due:a.target.value||void 0})})]})]})]})}function O({title:s,tasks:n,members:t,onUpdate:a}){return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold",children:s}),e.jsx(E,{variant:"outline",children:n.length})]}),e.jsxs("div",{className:"space-y-2",children:[n.map(r=>e.jsx(Ot,{task:r,members:t,onChange:a},r.id)),n.length===0&&e.jsx("div",{className:"text-xs text-muted-foreground border rounded-lg p-3",children:"No tasks here."})]})]})}function Dt({open:s,onOpenChange:n,groupName:t,members:a}){const[r,i]=o.useState(""),[c,u]=o.useState(""),[d,f]=o.useState("unassigned"),[m,l]=o.useState("todo"),[x,g]=o.useState([{id:V(),title:"Design hero section",status:"todo",priority:"medium"},{id:V(),title:"Implement auth context",status:"inprogress",assigneeId:a[1]?.id,priority:"high"},{id:V(),title:"QA mobile nav",status:"done",due:"2025-10-05"},{id:V(),title:"Write onboarding docs",status:"todo"}]),w=o.useMemo(()=>{const p=r.trim().toLowerCase();return p?x.filter(C=>C.title.toLowerCase().includes(p)):x},[x,r]),j=o.useMemo(()=>({todo:w.filter(p=>p.status==="todo"),inprogress:w.filter(p=>p.status==="inprogress"),done:w.filter(p=>p.status==="done")}),[w]),b={todo:x.filter(p=>p.status==="todo").length,inprogress:x.filter(p=>p.status==="inprogress").length,done:x.filter(p=>p.status==="done").length,all:x.length},v=()=>{const p=c.trim();p&&(g(C=>[{id:V(),title:p,status:m,assigneeId:d||void 0},...C]),u(""),f("unassigned"),l("todo"))},h=p=>{g(C=>C.map(T=>T.id===p.id?p:T))};return e.jsx(xe,{open:s,onOpenChange:n,children:e.jsxs(Y,{side:"right",className:"w-full sm:max-w-[560px] p-0 flex flex-col",children:[e.jsx(X,{className:"p-4 border-b",children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Tasks — ",t]})}),e.jsxs("div",{className:"p-3 sm:p-4 border-b space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(k,{htmlFor:"task-title",className:"text-xs",children:"Quick add"}),e.jsx(I,{id:"task-title",placeholder:"e.g. Fix mobile sidebar overflow",value:c,onChange:p=>u(p.target.value),className:"bg-gray-100 border-none"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs",children:"Status"}),e.jsxs(L,{value:m,onValueChange:p=>l(p),children:[e.jsx(M,{className:"h-9",children:e.jsx(G,{placeholder:"Status"})}),e.jsxs($,{children:[e.jsx(N,{value:"todo",children:"To do"}),e.jsx(N,{value:"inprogress",children:"In progress"}),e.jsx(N,{value:"done",children:"Done"})]})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(k,{className:"text-xs",children:"Assignee"}),e.jsxs(L,{value:d,onValueChange:f,children:[e.jsx(M,{className:"h-9",children:e.jsx(G,{placeholder:"Unassigned"})}),e.jsxs($,{children:[e.jsx(N,{value:"unassigned",children:"Unassigned"}),a.map(p=>e.jsx(N,{value:p.id,children:p.name},p.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(A,{className:"w-full bg-black text-white hover:bg-gray-800",onClick:v,children:"Add task"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{htmlFor:"task-search",className:"sr-only",children:"Search tasks"}),e.jsx(I,{id:"task-search",placeholder:"Search tasks...",value:r,onChange:p=>i(p.target.value),className:"bg-gray-100 border-none"})]})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:e.jsxs(As,{defaultValue:"todo",className:"flex h-full flex-col",children:[e.jsx("div",{className:"px-3 sm:px-4 py-2 border-b",children:e.jsxs(ks,{className:"bg-transparent p-0 h-auto gap-2 overflow-x-auto",children:[e.jsxs(q,{value:"todo",className:"rounded-none px-2 py-1 data-[state=active]:border-b-2 data-[state=active]:border-black",children:["To do (",b.todo,")"]}),e.jsxs(q,{value:"inprogress",className:"rounded-none px-2 py-1 data-[state=active]:border-b-2 data-[state=active]:border-black",children:["In progress (",b.inprogress,")"]}),e.jsxs(q,{value:"done",className:"rounded-none px-2 py-1 data-[state=active]:border-b-2 data-[state=active]:border-black",children:["Done (",b.done,")"]}),e.jsxs(q,{value:"all",className:"rounded-none px-2 py-1 data-[state=active]:border-b-2 data-[state=active]:border-black whitespace-nowrap",children:["All (",b.all,")"]})]})}),e.jsx(z,{value:"todo",className:"flex-1 overflow-y-auto p-3 sm:p-4",children:e.jsx(O,{title:"To do",tasks:j.todo,members:a,onUpdate:h})}),e.jsx(z,{value:"inprogress",className:"flex-1 overflow-y-auto p-3 sm:p-4",children:e.jsx(O,{title:"In progress",tasks:j.inprogress,members:a,onUpdate:h})}),e.jsx(z,{value:"done",className:"flex-1 overflow-y-auto p-3 sm:p-4",children:e.jsx(O,{title:"Done",tasks:j.done,members:a,onUpdate:h})}),e.jsx(z,{value:"all",className:"flex-1 overflow-y-auto p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(O,{title:"To do",tasks:j.todo,members:a,onUpdate:h}),e.jsx(ie,{}),e.jsx(O,{title:"In progress",tasks:j.inprogress,members:a,onUpdate:h}),e.jsx(ie,{}),e.jsx(O,{title:"Done",tasks:j.done,members:a,onUpdate:h})]})})]})})]})})}const oe=[{id:"1",name:"Sarah Chen",username:"@sarahc",avatar:"/sarah-avatar.jpg",role:"owner",isOnline:!0},{id:"2",name:"Marcus Johnson",username:"@marcusj",avatar:"/marcus-avatar.jpg",role:"admin"},{id:"3",name:"Emma Rodriguez",username:"@emmar",avatar:"/emma-avatar.png",role:"moderator",isOnline:!0},{id:"4",name:"David Kim",username:"@davidk",avatar:"/david-avatar.png",role:"member"},{id:"5",name:"Lisa Wang",username:"@lisaw",avatar:"/lisa-avatar.jpg",role:"member"}];function Ce(s){return[{id:"general",name:"general",topic:"Announcements and chat",category:"Text"},{id:"design",name:"design",topic:"Design reviews & assets",category:"Projects"},{id:"engineering",name:"engineering",topic:"Updates & PR reviews",category:"Projects",isPrivate:s==="2"}]}function Lt({groupId:s,groupName:n="Group"}){const t=Ie(),[a,r]=o.useState(()=>Ce(s)),[i,c]=o.useState(a[0]?.id||"general"),[u,d]=o.useState(""),[f,m]=o.useState("member"),[l,x]=o.useState(!1),[g,w]=o.useState(!1);o.useEffect(()=>{const v=Ce(s);r(v),c(v[0]?.id||"general")},[s]),o.useEffect(()=>{const v=new URL(window.location.href);v.searchParams.set("c",i),window.history.replaceState({},"",v.toString())},[i]);const j=o.useMemo(()=>a.find(v=>v.id===i)??a[0],[a,i]),b=e.jsxs("div",{className:"flex items-center justify-between px-3 md:px-4 py-2 border-b bg-white",children:[e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold truncate",children:n}),e.jsxs(E,{variant:"outline",className:"hidden sm:inline-flex text-xs",children:["#",s]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{open:l,onOpenChange:x,children:e.jsxs(Y,{side:"left",className:"p-0 w-80 max-w-[calc(100vw-1rem)]",children:[e.jsx(X,{className:"p-4 border-b",children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Channels"]})}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsx(I,{value:u,onChange:v=>d(v.target.value),placeholder:"Filter channels",className:"bg-gray-100 border-none"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Role"}),e.jsxs(L,{value:f,onValueChange:v=>m(v),children:[e.jsx(M,{className:"h-8 w-full",children:e.jsx(G,{})}),e.jsxs($,{children:[e.jsx(N,{value:"owner",children:"Owner"}),e.jsx(N,{value:"admin",children:"Admin"}),e.jsx(N,{value:"moderator",children:"Moderator"}),e.jsx(N,{value:"member",children:"Member"}),e.jsx(N,{value:"guest",children:"Guest"})]})]})]})]}),e.jsx("div",{className:"overflow-y-auto",children:e.jsx(Ne,{channels:a,filter:u,selectedId:i,onSelect:v=>{c(v),x(!1)}})})]})}),e.jsxs(A,{variant:"outline",className:"bg-transparent",onClick:()=>w(!0),"aria-label":"Open tasks",title:"Open tasks",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tasks"})]}),e.jsxs(A,{variant:"outline",className:"bg-transparent",onClick:()=>t(`/groups/${s}/settings`),"aria-label":"Group settings",title:"Group settings",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"hidden sm:inline",children:[n,"-Settings"]})]})]})]});return e.jsxs("div",{className:"flex flex-col bg-white border rounded-lg w-full max-w-full overflow-hidden overflow-x-hidden supports-[overflow:clip]:overflow-x-clip",children:[b,e.jsx(Dt,{open:g,onOpenChange:w,groupName:n,members:oe}),e.jsxs("div",{className:"grid w-full max-w-full [--aside-w:260px] md:grid-cols-[minmax(240px,var(--aside-w))_minmax(0,1fr)] min-h-[70vh] md:gap-0 overflow-hidden overflow-x-hidden supports-[overflow:clip]:overflow-x-clip [&>*]:min-w-0",children:[e.jsxs("aside",{className:"hidden md:flex md:flex-col border-r shrink-0 w-[var(--aside-w)] max-w-full overflow-x-hidden",children:[e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsx(I,{value:u,onChange:v=>d(v.target.value),placeholder:"Filter channels",className:"bg-gray-100 border-none"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Role"}),e.jsxs(L,{value:f,onValueChange:v=>m(v),children:[e.jsx(M,{className:"h-8",children:e.jsx(G,{})}),e.jsxs($,{children:[e.jsx(N,{value:"owner",children:"Owner"}),e.jsx(N,{value:"admin",children:"Admin"}),e.jsx(N,{value:"moderator",children:"Moderator"}),e.jsx(N,{value:"member",children:"Member"}),e.jsx(N,{value:"guest",children:"Guest"})]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(Ne,{channels:a,filter:u,selectedId:i,onSelect:c})})]}),e.jsxs("section",{className:"flex min-h-[60vh] flex-col min-w-0 max-w-full overflow-x-hidden supports-[overflow:clip]:overflow-x-clip break-words",children:[e.jsxs("div",{className:"px-3 md:px-4 py-2 border-b flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[j?.isPrivate?e.jsx(le,{className:"h-5 w-5"}):e.jsx(Es,{className:"h-5 w-5"}),e.jsx("h2",{className:"font-semibold truncate",children:j?.name||"channel"}),j?.category&&e.jsx(E,{variant:"outline",className:"text-xs",children:j.category})]}),e.jsx("div",{className:"hidden md:flex items-center gap-2",children:e.jsx(A,{variant:"outline",className:"bg-transparent",onClick:()=>{const v=prompt("Set channel topic",j?.topic??"")??j?.topic;v!==void 0&&r(h=>h.map(p=>p.id===i?{...p,topic:v??""}:p))},children:"Edit Topic"})})]}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(_s,{channelId:i,members:oe})}),e.jsx("div",{className:"border-t p-2 md:p-3 sticky bottom-0 bg-white hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{placeholder:`Message #${j?.name}`,className:"bg-gray-100 border-none"}),e.jsx(A,{className:"bg-black text-white hover:bg-gray-800",children:"Send"})]})}),e.jsx("div",{className:"border-t",children:e.jsx(Et,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(is,{value:"projects",children:[e.jsx(cs,{className:"px-4",children:"Projects"}),e.jsx(ds,{className:"px-4 pb-4",children:e.jsx(Os,{members:oe})})]})})})]})]})]})}const D=[{id:"1",name:"Design Enthusiasts",description:"Share design ideas, get feedback, and collaborate.",members:1284,isPrivate:!1,cover:"/cover-design-enthusiasts.jpg",tags:["Design","UI/UX","Feedback"]},{id:"2",name:"Engineering Hub",description:"PR reviews, deployments, and tech talks.",members:983,isPrivate:!0,cover:"/cover-engineering-hub.jpg",tags:["Dev","Releases","Code"]},{id:"3",name:"Creators Lounge",description:"Content, strategy, collabs and growth.",members:2540,isPrivate:!1,cover:"/cover-creators-lounge.jpg",tags:["Content","Growth","Strategy"]},{id:"4",name:"Product Squad",description:"Roadmap, discovery, testing and PM syncs.",members:642,isPrivate:!0,cover:"/cover-product-squad.jpg",tags:["Roadmap","PM","Testing"]}];function Bt(){const s=Ie(),[n,t]=o.useState(""),[a,r]=o.useState(D[0].id),[i,c]=o.useState(!1);o.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("g");x&&D.some(g=>g.id===x)&&r(x)},[]),o.useEffect(()=>{const l=new URL(window.location.href);l.searchParams.set("g",a),window.history.replaceState({},"",l.toString())},[a]);const u=o.useMemo(()=>{const l=n.trim().toLowerCase();return l?D.filter(x=>x.name.toLowerCase().includes(l)||x.description.toLowerCase().includes(l)||(x.tags||[]).some(g=>g.toLowerCase().includes(l))):D},[n]),d=D.find(l=>l.id===a)||D[0],f=({g:l})=>{const x=l.id===a;return e.jsx(ut,{delayDuration:0,children:e.jsxs(pt,{children:[e.jsx(mt,{asChild:!0,children:e.jsxs("button",{className:`relative flex h-12 w-12 items-center justify-center rounded-2xl overflow-hidden transition-all hover:rounded-xl ${x?"ring-2 ring-black":"ring-1 ring-transparent"}`,onClick:()=>r(l.id),"aria-label":`Open ${l.name}`,children:[l.cover?e.jsx("img",{src:l.cover||"/placeholder.svg",alt:l.name,className:"h-full w-full object-cover",draggable:!1}):e.jsx("div",{className:"h-full w-full grid place-items-center bg-muted/40 text-sm font-semibold",children:l.name.slice(0,2).toUpperCase()}),l.isPrivate?e.jsx("span",{className:"absolute bottom-0 right-0 m-1",children:e.jsx(le,{className:"h-3 w-3 text-white drop-shadow"})}):null]},l.id)}),e.jsx(Fe,{side:"right",align:"center",children:e.jsx("div",{className:"text-sm",children:l.name})})]})})},m=({g:l})=>e.jsx("button",{className:`w-full text-left rounded-md p-2 hover:bg-gray-100 transition ${l.id===a?"bg-gray-100":""}`,onClick:()=>{r(l.id),c(!1)},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-md overflow-hidden bg-muted/40",children:l.cover?e.jsx("img",{src:l.cover||"/placeholder.svg",alt:l.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full grid place-items-center text-xs font-semibold",children:l.name.slice(0,2).toUpperCase()})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm font-semibold truncate",children:l.name}),l.isPrivate?e.jsxs(E,{variant:"secondary",className:"text-[10px] gap-1",children:[e.jsx(le,{className:"h-3 w-3"})," Private"]}):e.jsxs(E,{variant:"outline",className:"text-[10px] gap-1",children:[e.jsx($s,{className:"h-3 w-3"})," Public"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Ee,{className:"h-3 w-3"}),l.members.toLocaleString()]})]})]})},l.id);return e.jsx(Ds,{children:e.jsxs("div",{className:"flex flex-col md:flex-row min-h-[70vh] gap-3 lg:gap-4",children:[e.jsxs("aside",{className:"hidden md:flex md:w-20 shrink-0 flex-col gap-3 items-center py-3 border rounded-lg bg-white",children:[e.jsx("button",{className:"h-12 w-12 grid place-items-center rounded-2xl bg-gray-100 hover:bg-gray-200 transition",onClick:()=>s("/groups/create"),"aria-label":"Create group",title:"Create group",children:e.jsx(Ls,{className:"h-5 w-5"})}),e.jsx(ie,{className:"w-10"}),e.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col items-center gap-3",children:[u.map(l=>e.jsx(f,{g:l},l.id)),u.length===0&&e.jsx("div",{className:"text-[10px] text-muted-foreground text-center px-2",children:"No groups"})]})]}),e.jsx("div",{className:"md:hidden w-full",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(xe,{open:i,onOpenChange:c,children:[e.jsx(Vs,{asChild:!0,children:e.jsxs(A,{variant:"outline",className:"bg-transparent",children:[e.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Groups"]})}),e.jsxs(Y,{side:"left",className:"w-80 p-0",children:[e.jsx(X,{className:"p-4 border-b",children:e.jsx(J,{children:"Groups"})}),e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(Gs,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search groups...",className:"pl-8 bg-gray-100 border-none",value:n,onChange:l=>t(l.target.value)})]})}),e.jsxs("div",{className:"p-2 space-y-1 overflow-y-auto",children:[u.map(l=>e.jsx(m,{g:l},l.id)),u.length===0&&e.jsxs("div",{className:"text-xs text-muted-foreground px-2 py-3",children:["No groups found for “",n,"”."]})]})]})]}),e.jsxs(A,{variant:"outline",className:"bg-transparent",onClick:()=>s(`/groups/${a}/settings`),children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Settings"]})]})}),e.jsx("div",{className:"w-full md:flex-1 min-w-0",children:e.jsx(Lt,{groupId:d.id,groupName:d.name})})]})})}export{Bt as default};
