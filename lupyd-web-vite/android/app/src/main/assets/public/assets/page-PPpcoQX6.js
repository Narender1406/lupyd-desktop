import{n as T,r as a,j as e,L as j,m as B,Q as C,B as r,y as I,u as G,a4 as _,a0 as n,J as $,a2 as R,A as O,h as W,i as q,s as S,U as v,S as P,ai as H,T as Q,a as V,b as N,c as y,a5 as J}from"./index-Fc6vCu0Z.js";import{D as K,a as X,b as Y,e as b,d as Z}from"./dropdown-menu-UOyrN3MW.js";import{a as ee,P as se}from"./post-card-B3OUABCa.js";import{S as u}from"./separator-S5HBOz6M.js";import{C as g}from"./chevron-right-Cvrj_jnQ.js";import{G as ae}from"./globe-BGulvziv.js";import{C as L}from"./camera-Ca4tg1Nh.js";import{G as te}from"./grid-3x3-BMvoD9em.js";import{L as re}from"./list-7nfU7_KK.js";import"./circle-DZNzqvcU.js";import"./dialog-eDhKFWIA.js";import"./use-toast-MZkaCwcs.js";import"./share-2-CGPvXKVm.js";import"./mail-BzArNo9P.js";import"./van-CsB0LuL7.js";import"./thumbs-up-B2JpGGy2.js";import"./send-B9-vH_sY.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ie=T("circle-question-mark",le);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ce=T("user",ne);function oe(){const[i,d]=a.useState(!0),[m,x]=a.useState(!1),[p,h]=a.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage your account settings and preferences"})]}),e.jsx(u,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Account"}),e.jsxs(j,{to:"/dashboard/settings",className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ce,{className:"h-5 w-5 mr-3 text-gray-500"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsx(g,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-5 w-5 mr-3 text-gray-500"}),e.jsx("span",{children:"Notifications"})]}),e.jsx(C,{checked:i,onCheckedChange:d,"aria-label":"Toggle notifications"})]})]}),e.jsx(u,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Preferences"}),e.jsxs("div",{className:"flex items-center justify-between p-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 mr-3 text-gray-500",children:[e.jsx("circle",{cx:"12",cy:"12",r:"4"}),e.jsx("path",{d:"M12 2v2"}),e.jsx("path",{d:"M12 20v2"}),e.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),e.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),e.jsx("path",{d:"M2 12h2"}),e.jsx("path",{d:"M20 12h2"}),e.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),e.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),e.jsx("span",{children:"Dark Mode"})]}),e.jsx(C,{checked:m,onCheckedChange:x,"aria-label":"Toggle dark mode"})]}),e.jsxs(j,{to:"/dashboard/profile/language",className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"h-5 w-5 mr-3 text-gray-500"}),e.jsx("span",{children:"Language"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"English"}),e.jsx(g,{className:"h-4 w-4 text-gray-400"})]})]})]}),e.jsx(u,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Support"}),e.jsxs(j,{to:"/dashboard/help",className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{className:"h-5 w-5 mr-3 text-gray-500"}),e.jsx("span",{children:"Help Center"})]}),e.jsx(g,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs(j,{to:"/dashboard/report",className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 mr-3 text-gray-500",children:[e.jsx("path",{d:"m3 3 18 18"}),e.jsx("path",{d:"M10.5 10.5a2.5 2.5 0 0 0 3 3"}),e.jsx("path",{d:"M7.34 7.34A6 6 0 0 0 12 18a6 6 0 0 0 5.66-8"}),e.jsx("path",{d:"M12 18v3"}),e.jsx("path",{d:"M8 21h8"}),e.jsx("path",{d:"m4.9 4.9 14.2 14.2"})]}),e.jsx("span",{children:"Report a Problem"})]}),e.jsx(g,{className:"h-4 w-4 text-gray-400"})]})]}),e.jsx(u,{}),e.jsxs(r,{variant:"destructive",className:"w-full",onClick:()=>console.log("Logout"),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Log Out"]})]})}function Se(){const i=G(),[d,m]=a.useState("grid"),[x,p]=a.useState(!1),[h,E]=a.useState(!1),[F,U]=a.useState([]),[t,z]=a.useState(null),A=_();a.useEffect(()=>{const s=()=>{E(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]);const l=()=>{const s=A.username;if(typeof s=="string")return s},k=a.useMemo(()=>{if(t)return n.PostProtos.PostBody.decode(t.bio)},[t]);a.useEffect(()=>{const s=l();s&&(n.getUser(s).then(w=>{z(w||null)}).catch(console.error),n.getPosts({fetchType:n.FetchType.Users,fetchTypeFields:[s]}).then(w=>{U(w)}).catch(console.error))},[]);const c=$();a.useEffect(()=>{c.username&&l()===c.username&&p(!0)},[c]);const o=R(),[f,D]=a.useState(!1);a.useEffect(()=>{c.username&&l()&&D(o.follows.includes(l()))},[c,o]);const M=async()=>{const s=l();s&&(o.follows.includes(s)?await o.relationState.followUser(s):await o.relationState.unfollowUser(s))};return e.jsxs("div",{className:"flex flex-col md:flex-row w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"relative h-48 md:h-64 w-full overflow-hidden rounded-b-lg"}),e.jsx("div",{className:"px-4 md:px-8 -mt-16 md:-mt-20 relative z-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(O,{className:"h-32 w-32 border-4 border-white",children:[e.jsx(W,{src:((t?.settings??0)&16)==16?`${n.CDN_STORAGE}/users/${t.uname}`:"/placeholder.svg",alt:t?.uname}),e.jsx(q,{className:"text-4xl",children:(t?.uname??"U")[0]})]}),e.jsx(r,{size:"icon",variant:"ghost",className:"absolute bottom-0 right-0 bg-white/80 hover:bg-white rounded-full h-8 w-8",onClick:()=>console.log("Change profile picture"),children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-6 flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:t?.uname})}),e.jsxs("p",{className:"text-gray-500",children:["@",t?.uname]})]}),e.jsxs("div",{className:"flex mt-4 md:mt-0 space-x-2",children:[!h&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:((t?.settings??0)&1)==1?()=>i(`/messages/${l()}`):void 0,children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Message"]}),e.jsx(r,{variant:f?"outline":"default",size:"sm",onClick:M,children:f?"Following":e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Follow"]})}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>p(!x),children:e.jsx(P,{className:"h-4 w-4"})})]}),h&&e.jsxs(K,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Actions"]})}),e.jsxs(Y,{align:"end",children:[e.jsxs(b,{onClick:()=>i(`/messages/${l()}`),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Message"]}),e.jsxs(b,{onClick:M,children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),f?"Unfollow":"Follow"]}),e.jsx(Z,{}),e.jsxs(b,{onClick:()=>i("/settings"),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})]})]}),e.jsxs("p",{className:"mt-2 text-sm",children:[" ",k?e.jsx(ee,{...k}):e.jsx(e.Fragment,{})]})]})]})})]}),e.jsx("div",{className:"px-4 md:px-8",children:e.jsxs(Q,{defaultValue:"posts",className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(V,{children:[e.jsx(N,{value:"posts",children:"Posts"}),e.jsx(N,{value:"saved",children:"Saved"}),e.jsx(N,{value:"tagged",children:"Tagged"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(r,{variant:"ghost",size:"sm",className:d==="grid"?"bg-gray-100":"",onClick:()=>m("grid"),children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",className:d==="list"?"bg-gray-100":"",onClick:()=>m("list"),children:e.jsx(re,{className:"h-4 w-4"})})]})]}),e.jsx(y,{value:"posts",children:e.jsx("div",{className:"space-y-4",children:F.map(s=>e.jsx(se,{post:s},n.ulidStringify(s.id)))})}),e.jsx(y,{value:"saved",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(J,{className:"h-12 w-12 mx-auto text-gray-300"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"No saved posts yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Items you save will appear here"})]})}),e.jsx(y,{value:"tagged",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"h-12 w-12 mx-auto text-gray-300"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"No tagged posts yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Posts you're tagged in will appear here"})]})})]})})]}),x&&!h&&e.jsx("div",{className:"hidden md:block w-80 border-l bg-white p-4 overflow-y-auto",children:e.jsx(oe,{})}),e.jsx("div",{className:"fixed bottom-6 right-6 md:hidden",children:e.jsx(r,{size:"icon",className:"rounded-full h-14 w-14 shadow-lg",onClick:()=>i("/settings"),children:e.jsx(L,{className:"h-6 w-6"})})})]})}export{Se as default};
